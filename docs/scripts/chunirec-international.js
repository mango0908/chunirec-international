(()=>{"use strict";var n;!function(n){n.en_US="en_US",n.zh_TW="zh_TW"}(n||(n={}));const e="chunithm-net-eng.com",t="https://"+e;!function(r,a){const o={[n.en_US]:{alreadyRun:"Please refresh the page before running chunirec-international again!",wrongBase:`Oops! Looks like you are on the wrong page.\nPlease open CHUNITHM-NET Intl. (${e}) and login, then try again.`},[n.zh_TW]:{alreadyRun:"你已經執行過CHUNITHM小工具了！若要重新執行一次，請先重新整理頁面再來",wrongBase:`哇，看來你走錯路了。請到CHUNITHM-NET Intl. (${e}) 登入之後再試一次。`}}[function(){const e=new URLSearchParams(location.search);return e.get("lang")?e.get("lang").startsWith("zh")?n.zh_TW:n.en_US:function(){switch(localStorage.getItem("language")){case n.en_US:return n.en_US;case n.zh_TW:return n.zh_TW}return null}()||(navigator.language.startsWith("zh")?n.zh_TW:n.en_US)}()];if(a.chunirecinternational)return void alert(o.alreadyRun);if(a.chunirecinternational=!0,a.location.hostname!==e)return alert(o.wrongBase),void(a.location.href=t);function i(n){const e=r.createElement("script");e.src=`${function(){const n=Array.from(document.querySelectorAll("script"));for(;n.length;){const e=n.pop();if(e?.src.includes("chunirec-international")){const n=new URL(e.src),t=n.pathname;return n.origin+t.substring(0,t.lastIndexOf("/scripts"))}}return"https://mango0908.github.io/chunirec-international"}()}/scripts/${n}.js`,r.body.append(e)}const c=r.location.pathname;-1!=c.indexOf("/mobile/home/userOption/updateUserName")?i("idxmap-generate"):-1!=c.indexOf("/mobile/record/musicGenre")?i("export-csv"):i("fetch-all")}(document,window)})();